#! /bin/sh
wal -i $HOME/Pictures/Wallpapers/${1}.* &&
feh --bg-fill --conversion-timeout 100 $HOME/Pictures/Wallpapers/${1}.*

#wallmaker $HOME/Pictures/Wallpapers/${1}.* ~/Pictures/Wallpapers/generated.png 50 50 `emos`
#wal -i $HOME/Pictures/Wallpapers/generated.png
#feh --bg-fill $HOME/Pictures/Wallpapers/generated.png


{ echo -n '//META{"name":"wal","description":"Generated based on pywal colors","author":"wal-discord","version":"1.0"}*//'; sassc -t compact -I $HOME/.config/wal-discord -s < $HOME/.config/wal-discord/master.scss; } > $HOME/.config/BetterDiscord/themes/wall.theme.css &&

oomox-cli -o wal -t $HOME/.local/share/themes $HOME/.cache/wal/colors-oomox &&

bspc wm -r &&

fixtheme ~/.config/alacritty/alacritty.yml &&

# Doesn't work needs workaround below
#sudo openrgb -c `xrdb -query | grep '*color7' | awk '{print $2}' | cut -c 2-` -m direct
sudo openrgb -c `xrdb -query | grep '*color5' | awk '{print $2}' | cut -c 2-` -m direct
sudo openrgb -d 0 -c `xrdb -query | grep '*color5' | awk '{print $2}' | cut -c 2-` -m breathing
sudo openrgb -d 1 -c `xrdb -query | grep '*color5' | awk '{print $2}' | cut -c 2-` -m breathing
